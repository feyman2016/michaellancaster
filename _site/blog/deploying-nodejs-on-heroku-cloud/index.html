<!DOCTYPE html>
<!--[if lt IE 9]> <html class="no-js ie"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title> Deploying Node.js server on Heroku Cloud |  Michael Lancaster Front End Developer/HTML5 Soldier based in Chicago - IL</title>

    <!-- metas -->
    <meta name="description" content=" Deploying Node.js server on Heroku Cloud |  Michael Lancaster Front End Developer/HTML5 Soldier based in Chicago - IL">
    <meta name="viewport" content="width=device-width">
    <meta property="og:title" content="Blog by Michael Lancaster">
	<meta property="og:site_name" content="By Michael Lancaster">
	<meta property="og:url" content="http://bymichaellancaster.com">
	<meta property="og:image" content="http://www.bymichaellancaster.com/assets/images/img-profile.jpg">
	<meta property="og:type" content="blog">
	<meta property="og:description" content="HTML5, CSS3, JavaScript, Technology and random stuff">

    <!-- style -->
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Nunito:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/style/app.css">

    <!-- RSS feed -->
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml" />
</head>

<body class="" data-widgets="">

	<!-- aside -->
	<aside id="aside">
		<!-- header -->
		<header id="header">
			<h1 class="logo cf">
				<a href="/" title="Michael Lancaster - Front End Developer/HTML5 Soldier">
					<img src="/assets/images/img-profile.jpg" alt="Michael Lancaster - Front End Developer/HTML5 Soldier" class="db fl">
					<span class="tit-author db fl">Michael Lancaster</span>
					<small class="role-author db">Front End Developer</small>
				</a>
			</h1>

		</header>
		<!-- header / end -->

		<!-- nav -->
		<nav id="nav">
			<ul class="menu">
				<li><a href="/about" title="Life, Work.." class="db">About</a></li>
				<li><a href="#articles-list" title="Code, Technology, Random stuff and afins" class="db" id="bt-show-articles">Articles</a></li>
				<li><a href="/lab" title="Some experiments" class="db">Lab</a></li>
			</ul>
		</nav>
		<!-- nav / end -->

	</aside>
	<!-- aside / end -->

	<!-- mobile navigation -->
	<select id="mb-menu" class="dn">
		<option value="" seleted="selected">Select</option>
		<option value="/">Home</option>
		<option value="/about">About</option>
		<optgroup label="Articles">
			
			<option value="/blog/javascript-script-dependency-loader-on-demand">My Micro-Library called Jet.js</option>
			
			<option value="/blog/deploying-nodejs-on-heroku-cloud">Deploying Node.js server on Heroku Cloud</option>
			
			<option value="/blog/when-facebook-recruiter-email-me">When a Facebook recruiter email me</option>
			
			<option value="/blog/how-i-built-lollagram-lollapalooza-instagram-real-time-api">How I built Lollagram with Instagram real time API</option>
			
			<option value="/blog/tonights-inspiration">Tonight's inspiration</option>
			
			<option value="/blog/introduction-to-task-runner-gruntjs">Introduction to GruntJS</option>
			
			<option value="/blog/basic-overview-of-client-side-templating">Basic overview of client - side templating</option>
			
			<option value="/blog/from-san-francisco-to-the-brazilian-developers-community">From San Francisco to the Brazilian developers community.</option>
			
			<option value="/blog/fluid-iframe-and-images-without-javascript-plugins">Fluid iframe without use of javascript.</option>
			
			<option value="/blog/css-architecture-for-web-applications">CSS Architecture for Web Applications.</option>
			
			<option value="/blog/secrets-of-lea-verou-css">Secrets of Lea Verou about CSS.</option>
			
			<option value="/blog/inspirational-art-and-code-by-joshua-davis">Inspirational Art and Code by Joshua Davis.</option>
			
			<option value="/blog/the-filter-bubble-and-your-social-life-online">The filter bubble and your social life online.</option>
			
			<option value="/blog/lets-talk-about-rem-units">Let's talk about rem units.</option>
			
			<option value="/blog/two-years-ago-everything-started">Two years ago everything started.</option>
			
			<option value="/blog/what-technologies-im-using-to-blog">What technologies I'm using to blog?!</option>
			
			<option value="/blog/first-things-first">First things first.</option>
			
		</optgroup>
		<option value="/lab">Lab</option>
	</select>
	<!-- mobile navigation / end -->

	<!-- articles list -->
	<ul id="articles-list" class="vh">
		
		<li>
			<a href="/blog/javascript-script-dependency-loader-on-demand" title="My Micro-Library called Jet.js">
				<h2 class="ui-tit-02">My Micro-Library called Jet.js</h2>
				<span class="ui-date">24 Sep 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/deploying-nodejs-on-heroku-cloud" title="Deploying Node.js server on Heroku Cloud">
				<h2 class="ui-tit-02">Deploying Node.js server on Heroku Cloud</h2>
				<span class="ui-date">19 Sep 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/when-facebook-recruiter-email-me" title="When a Facebook recruiter email me">
				<h2 class="ui-tit-02">When a Facebook recruiter email me</h2>
				<span class="ui-date">18 Sep 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/how-i-built-lollagram-lollapalooza-instagram-real-time-api" title="How I built Lollagram with Instagram real time API">
				<h2 class="ui-tit-02">How I built Lollagram with Instagram real time API</h2>
				<span class="ui-date">09 Sep 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/tonights-inspiration" title="Tonight's inspiration">
				<h2 class="ui-tit-02">Tonight's inspiration</h2>
				<span class="ui-date">25 Aug 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/introduction-to-task-runner-gruntjs" title="Introduction to GruntJS">
				<h2 class="ui-tit-02">Introduction to GruntJS</h2>
				<span class="ui-date">01 Jun 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/basic-overview-of-client-side-templating" title="Basic overview of client - side templating">
				<h2 class="ui-tit-02">Basic overview of client - side templating</h2>
				<span class="ui-date">07 Apr 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/from-san-francisco-to-the-brazilian-developers-community" title="From San Francisco to the Brazilian developers community.">
				<h2 class="ui-tit-02">From San Francisco to the Brazilian developers community.</h2>
				<span class="ui-date">06 Apr 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/fluid-iframe-and-images-without-javascript-plugins" title="Fluid iframe without use of javascript.">
				<h2 class="ui-tit-02">Fluid iframe without use of javascript.</h2>
				<span class="ui-date">12 Mar 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/css-architecture-for-web-applications" title="CSS Architecture for Web Applications.">
				<h2 class="ui-tit-02">CSS Architecture for Web Applications.</h2>
				<span class="ui-date">08 Mar 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/secrets-of-lea-verou-css" title="Secrets of Lea Verou about CSS.">
				<h2 class="ui-tit-02">Secrets of Lea Verou about CSS.</h2>
				<span class="ui-date">03 Mar 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/inspirational-art-and-code-by-joshua-davis" title="Inspirational Art and Code by Joshua Davis.">
				<h2 class="ui-tit-02">Inspirational Art and Code by Joshua Davis.</h2>
				<span class="ui-date">28 Feb 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/the-filter-bubble-and-your-social-life-online" title="The filter bubble and your social life online.">
				<h2 class="ui-tit-02">The filter bubble and your social life online.</h2>
				<span class="ui-date">27 Feb 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/lets-talk-about-rem-units" title="Let's talk about rem units.">
				<h2 class="ui-tit-02">Let's talk about rem units.</h2>
				<span class="ui-date">26 Feb 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/two-years-ago-everything-started" title="Two years ago everything started.">
				<h2 class="ui-tit-02">Two years ago everything started.</h2>
				<span class="ui-date">25 Feb 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/what-technologies-im-using-to-blog" title="What technologies I'm using to blog?!">
				<h2 class="ui-tit-02">What technologies I'm using to blog?!</h2>
				<span class="ui-date">30 Jan 2013</span>
			</a>
		</li>
		
		<li>
			<a href="/blog/first-things-first" title="First things first.">
				<h2 class="ui-tit-02">First things first.</h2>
				<span class="ui-date">30 Jan 2013</span>
			</a>
		</li>
		
	</ul>
	<!-- articles list -->

	<div id="content">

		<article class="post">

    <h2 class="ui-tit-01">Deploying Node.js server on Heroku Cloud</h2>

    <span class="ui-date db">19 Sep 13</span>

    <!-- <span class="category">Category: </span> -->

	<div class="ui-copy"><p>[post under improvements]</p>

<p>As a developer I have been always curious to learn and try new technologies that can improve my skill and help me build better Web Applications..So today I'm going to try help you set up a simple Node.js server on Heroku Cloud using my small open source project aims deploy even faster Node.js applications.</p>

<h2>Why Heroku</h2>

<p><a href="http://www.heroku.com" target=""_blank title="">Heroku</a> is a cloud application platform where you can build and deploy web apps
with the technologies you know as Java, Ruby, Closure, Node.js, Python and Scala..Heroku uses integration with Git so you can deploy your Application
simply pushing to master. Oh and It's FREE!</p>

<p>I have four web apps hosted on heroku but two are for public access this blog/portfolio running on Ruby and Lollagram running on Node.js.</p>

<h2>Why Node.js</h2>

<p>It's Javascript...on the Server!</p>

<iframe src="http://giphy.com/embed/13k1e8OMVO2a3K" frameBorder="0" allowFullScreen="allowFullScreen"></iframe>

<p><br></p>

<p>No, But seriously. Javascript is well known by us Front End Developers/Engineers and even designers. <br>
That's already one good reason but the main &quot;real&quot; reasons are Node.js is all about making event-driven (Ajax can be done on the server side), low-latency, non-blocking I/O...perfect for real time. <br>
Node.js makes a much smaller footprint on your web server It allocates web server resources on an as-needed basis, not pre-allocating a large chunk of resources for each user. For example, Apache might assign 8MB to a user, while Node assigns 8KB.</p>

<h2>Heroku set up</h2>

<p>I'm going to assume you have account on Heroku (it's free) and the <a href="https://toolbelt.heroku.com/" title="toolbelt kit" target="_blank">toolbelt kit</a> installed and you also have <a href="http://Nodejs.org/" title="Node.js" target="_blank">Node.js</a> installed.</p>

<h2>Let's get it start</h2>

<p>First of all (after everything installed) create a new folder (whatever-name-you-want) then open your terminal go to your folder and type..</p>

<pre><code data-language="ruby">
git init
</code></pre>

<p>then</p>

<pre><code data-language="ruby">
git add .
</code></pre>

<p>then</p>

<pre><code data-language="ruby">
git commit -m "first commit"
</code></pre>

<p>Now you have git initialized..time to create a Heroku app. <br>
First thing you need to login to Heroku (remember that we are doing everything from the command line on terminal)</p>

<pre><code data-language="ruby">
heroku login
</code></pre>

<pre><code data-language="ruby">
heroku create name-of-your-app
</code></pre>

<p>Done! You just need to push your code.</p>

<pre><code data-language="ruby">
git push
</code></pre>

<p>You can access your Web App url on www.your-app-name.heroku.com</p>

<p>Oh wait! What is this?</p>

<div class="fluidImg">
<img src="/assets/images/post-images/heroku-404.png" alt="Heroku 404">
</div>

<p><br></p>

<p>To make your Web App run on Heroku you need to run your Web App in one of those languages I said right on the beginning of this post.</p>

<p>Today we are going to run and deploy a simple Node.js/Express.js Application..since I have been using Heroku and Node.js for all my personal/aside projects I created a Express.js boilerplate to run and deploy fast and easy with <a href="/blog/introduction-to-task-runner-gruntjs/" target="_blank" title="introduction to Grunt.js">Grunt.js</a> included so you can watch for changes on your files to minify CSS and uglify JS. I also included static assets and NO Jade (jade is native on Express.js) so you can code your normal HTML instead of Jade.</p>

<p>Go to my Github repository <a href="https://github.com/weblancaster/expressjs-static-boilerplate" target="_blank" title="Express.js static boilerplate">Express.js static boilerplate</a> and download the zip file then extract and copy everything has inside of &quot;expressjs-static-boilerplate&quot; folder to your Web App folder.</p>

<h2>Running Node.js</h2>

<p>After download my boilerplate let's install the dependencies and run our Node.js server</p>

<pre><code data-language="ruby">
sudo npm install -g
</code></pre>

<p>Enter your password.
You should see something like the image below.. notice that not every log is showed on the image..</p>

<div class="fluidImg">
<img src="/assets/images/post-images/success-image.png" alt="success image">
</div>

<p><br></p>

<p>All Node dependencies are installed and now you can start run your server.</p>

<pre><code data-language="ruby">
node server.js
</code></pre>

<p>Or to not need to quit the server &quot;control + c&quot; every time you do any change I also added a monitor to the boilerplate so every time you do your changes and save the monitor you automatically re-run the server.</p>

<pre><code data-language="ruby">
nodemon server.js
</code></pre>

<h2>Running Grunt.js</h2>

<p>After install all the Node.js dependencies you can start run your tasks to minify CSS and uglify JS. <br>
Open a new tab on your terminal and run the command.</p>

<pre><code data-language="ruby">
grunt build
</code></pre>

<p>This is the message you should get.</p>

<div class="fluidImg">
<img src="/assets/images/post-images/grunt-build.png" alt="grunt build">
</div>

<p><br></p>

<p>But still not quite good enough because we would need to build every time we did any change.
So let's start to watch for changes on the files.</p>

<pre><code data-language="ruby">
grunt watch
</code></pre>

<p>Now every time you do any change and save the file grunt you build automatically.</p>

<div class="fluidImg">
<img src="/assets/images/post-images/grunt-watch.png" alt="grunt watch">
</div>

<p><br></p>

<p>Ok. That's pretty cool right?!.</p>

<h2>Deploying and Running on Heroku</h2>

<p>Now let's push to Heroku and see if it works.</p>

<pre><code data-language="ruby">
git add .
</code></pre>

<pre><code data-language="ruby">
git commit -m "added express boilerplate"
</code></pre>

<pre><code data-language="ruby">
git push origin master
</code></pre>

<p>and this is what happened..</p>

<div class="fluidImg">
<img src="/assets/images/post-images/no-support.png" alt="no support">
</div>

<p><br></p>

<p>If you read the message you will see &quot;Push rejected, no Cedar-supported app detected&quot; so let's add support to make this baby work..
Every Web App on Heroku needs a file to tell Heroku what are we deploying..</p>

<p>In this case we need a &quot;Procfile&quot;. So create a new file named &quot;Procfile&quot; and type &quot;web: node server.js&quot; save inside your app folder. <br></p>

<p>Then you need to activate your server and tell Heroku to run 1 &quot;Cedar&quot; (one cedar is free hosting).</p>

<pre><code data-language="ruby">
heroku ps:scale web=1
</code></pre>

<div class="fluidImg">
<img src="/assets/images/post-images/cedar.png" alt="no support">
</div>

<p><br></p>

<p>Repeat the push process.. after do the push process again &quot;git add .&quot; &quot;git commit&quot; and &quot;git push origin master&quot; a bunch of message will log and the final logs would be like this image below.. now you can access your Web App URL in my case is <a href="http://deployed-nodejs-app.herokuapp.com/" title="my how to deploy node.js to Heroku post" target="_blank">deployed-nodejs-app</a>.</p>

<div class="fluidImg">
<img src="/assets/images/post-images/pushed.png" alt="Web app deployed">
</div>

<p><br></p>

<p>And this is how we deploy Node.js to Heroku.. fast and easy.</p>

<p>Cheers!</p>
</div>

    <!-- <span class="meta"><small>By Michael Lancaster &copy; 2013</small></span> -->

            <div id="disqus_thread"></div>
		    <script type="text/javascript">
		        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'michaellancaster'; // required: replace example with your forum shortname

		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function() {
		            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		        })();
		    </script>
		    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>



	</div>

<!-- js -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/plugins/jquery-1.8.3.min.js"><\/script>')</script>
<script src="/assets/js/plugins/jquery.rainbow.min.js"></script>

<!-- modular loader wrap -->
<div id="modularLoaderWrap">
</div>
<!-- modular loader wrap / end -->

<script src="/assets/js/app.js"></script>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38152494-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>

</html>
